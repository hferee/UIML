<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/hferee/UIML">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="./demo.html"> Demo </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ISL.Sequents.html#"><span class="id" title="library">ISL.Sequents</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Required&nbsp;for&nbsp;dependent&nbsp;induction.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab30"></a><h1 class="section">Admissible rules in G4ip sequent calculus</h1>


<div class="paragraph"> </div>

This file contains important properties of the sequent calculus G4ip, defined in
Sequents.v, namely the admissibility of various inversion rules, weakening and
contraction. We draw various consequences from this that are used extensively in
the proof of correctness of propositional quantifiers. The first part of this
file closely follows proof in the paper:

<div class="paragraph"> </div>

(Dyckhoff and Negri 2000). R. Dyckhoff and S. Negri, Admissibility of Structural
Rules for Contraction-Free Systems of Intuitionistic Logic, Journal of Symbolic
Logic (65):4.

<div class="paragraph"> </div>

<a id="lab31"></a><h2 class="section">Weakening</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_add'" class="idref" href="#open_boxes_add'"><span class="id" title="lemma">open_boxes_add'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="K:1" class="idref" href="#K:1"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} (<a id="da7a5918a812e0216f4a54d21f7406c4" class="idref" href="#da7a5918a812e0216f4a54d21f7406c4"><span class="id" title="binder">Γ</span></a> : @<a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ISL.SequentProps.html#K:1"><span class="id" title="variable">K</span></a>) (<a id="4285642db9f9c7b847d79f5d0db46174" class="idref" href="#4285642db9f9c7b847d79f5d0db46174"><span class="id" title="binder">φ</span></a> : @<a class="idref" href="ISL.Formulas.html#form"><span class="id" title="inductive">form</span></a> <a class="idref" href="ISL.SequentProps.html#K:1"><span class="id" title="variable">K</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#da7a5918a812e0216f4a54d21f7406c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#4285642db9f9c7b847d79f5d0db46174"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ISL.SequentProps.html#da7a5918a812e0216f4a54d21f7406c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.SequentProps.html#4285642db9f9c7b847d79f5d0db46174"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#open_boxes_add"><span class="id" title="lemma">open_boxes_add</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Global&nbsp;Hint&nbsp;Rewrite&nbsp;open_boxes_add'&nbsp;:&nbsp;proof.<br/>
*)</span><br/>
</div>

<div class="doc">
We prove the admissibility of the weakening rule. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a id="weakening" class="idref" href="#weakening"><span class="id" title="lemma">weakening</span></a> {<a id="K:4" class="idref" href="#K:4"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="5ddc52fe26ac7e7d9d3a00e18fe5f17b" class="idref" href="#5ddc52fe26ac7e7d9d3a00e18fe5f17b"><span class="id" title="binder">φ'</span></a> <a id="6b23b3527a5ae82de0dbe08d52926f19" class="idref" href="#6b23b3527a5ae82de0dbe08d52926f19"><span class="id" title="binder">Γ</span></a> <a id="318b893980ba1f14a5a856f2bbea644a" class="idref" href="#318b893980ba1f14a5a856f2bbea644a"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.SequentProps.html#6b23b3527a5ae82de0dbe08d52926f19"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#318b893980ba1f14a5a856f2bbea644a"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#6b23b3527a5ae82de0dbe08d52926f19"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#5ddc52fe26ac7e7d9d3a00e18fe5f17b"><span class="id" title="variable">φ'</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#318b893980ba1f14a5a856f2bbea644a"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> φ'. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intro</span> φ'; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">exch</span> 0; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
- <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 8; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 1; <span class="id" title="tactic">constructor</span> 9; <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 10; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 11. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">peapply</span> (<span class="id" title="var">IHProvable1</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ')).<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="var">exch</span> 0...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">weakening</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="generalised_weakeningL" class="idref" href="#generalised_weakeningL"><span class="id" title="lemma">generalised_weakeningL</span></a> {<a id="K:8" class="idref" href="#K:8"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} (<a id="a27a3f5be2c643b658176c4fa6dd32d6" class="idref" href="#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="binder">Γ</span></a> <a id="47249e82d4696b74a77b3e94a4f8dbc5" class="idref" href="#47249e82d4696b74a77b3e94a4f8dbc5"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="e6d4c98ae473993ff04763d655d26b6f" class="idref" href="#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.SequentProps.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#47249e82d4696b74a77b3e94a4f8dbc5"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.SequentProps.html#a27a3f5be2c643b658176c4fa6dd32d6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#e6d4c98ae473993ff04763d655d26b6f"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">IHΓ'</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">peapply</span> (<a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">IHΓ'</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="generalised_weakeningR" class="idref" href="#generalised_weakeningR"><span class="id" title="lemma">generalised_weakeningR</span></a> {<a id="K:12" class="idref" href="#K:12"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} (<a id="a57704a48aaf9a67d8a3df75d6eea365" class="idref" href="#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="binder">Γ</span></a> <a id="1785f94cceaf38b66ea8709513b04050" class="idref" href="#1785f94cceaf38b66ea8709513b04050"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="5517267a1fa693b60453a7a09ed3d6d7" class="idref" href="#5517267a1fa693b60453a7a09ed3d6d7"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.SequentProps.html#1785f94cceaf38b66ea8709513b04050"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5517267a1fa693b60453a7a09ed3d6d7"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#1785f94cceaf38b66ea8709513b04050"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.SequentProps.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5517267a1fa693b60453a7a09ed3d6d7"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">Γ</span> <span class="id" title="var">IHΓ</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">peapply</span> (<a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">IHΓ</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span> 5 (?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> ?<span class="id" title="var">b</span>) =&gt; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab32"></a><h2 class="section">Inversion rules</h2>

<div class="paragraph"> </div>

 We prove that the following rules are invertible: implication right, and
  left, or left, top left (i.e., the appliction of weakening for the formula
  top), the four implication left rules, the and right rule and the application of the or right rule with bottom. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpR_rev" class="idref" href="#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a> {<a id="K:16" class="idref" href="#K:16"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="de99c0e007bd311d76da1801ff347713" class="idref" href="#de99c0e007bd311d76da1801ff347713"><span class="id" title="binder">Γ</span></a> <a id="7d5e13789b0c6cc8575b0ea97e93b653" class="idref" href="#7d5e13789b0c6cc8575b0ea97e93b653"><span class="id" title="binder">φ</span></a> <a id="169ffdf9a5f6f97a1f332b06eedda43f" class="idref" href="#169ffdf9a5f6f97a1f332b06eedda43f"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#7d5e13789b0c6cc8575b0ea97e93b653"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a>  <a class="idref" href="ISL.SequentProps.html#169ffdf9a5f6f97a1f332b06eedda43f"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#de99c0e007bd311d76da1801ff347713"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#7d5e13789b0c6cc8575b0ea97e93b653"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a>  <a class="idref" href="ISL.SequentProps.html#169ffdf9a5f6f97a1f332b06eedda43f"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">exch</span> 0.<br/>
- <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 1; <span class="id" title="tactic">constructor</span> 9; <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 10; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 11. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">constructor</span> 13; <span class="id" title="var">box_tac</span>...<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>...<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">ImpR_rev</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="generalised_axiom" class="idref" href="#generalised_axiom"><span class="id" title="lemma">generalised_axiom</span></a> {<a id="K:20" class="idref" href="#K:20"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="57d703d05664bc6befa1a1f25e729927" class="idref" href="#57d703d05664bc6befa1a1f25e729927"><span class="id" title="binder">Γ</span></a> <a id="2d294d8281a611996e28d18383d65b76" class="idref" href="#2d294d8281a611996e28d18383d65b76"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.SequentProps.html#57d703d05664bc6befa1a1f25e729927"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#2d294d8281a611996e28d18383d65b76"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#2d294d8281a611996e28d18383d65b76"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hle</span> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqw</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> φ <span class="id" title="var">Hle</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> φ <span class="id" title="var">Hle</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span>φ := <a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ). <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> φ1.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span> 8. <span class="id" title="var">exch</span> 0...<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>, <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>. <span class="id" title="var">exch</span> 0...<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">exch</span> 0...<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="var">box_tac</span>...<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>; <span class="id" title="var">box_tac</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">generalised_axiom</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">lazy_apply</span> <span class="id" title="var">th</span>:=<br/>
(<span class="id" title="var">erewrite</span> <a class="idref" href="ISL.Sequents.html#proper_Provable"><span class="id" title="instance">proper_Provable</span></a>;  [| |<span class="id" title="tactic">reflexivity</span>]);  [<span class="id" title="tactic">eapply</span> <span class="id" title="var">th</span>|].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_box_L" class="idref" href="#open_box_L"><span class="id" title="lemma">open_box_L</span></a> {<a id="K:23" class="idref" href="#K:23"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="c14c0b2265abf3ec26ac01165fe38870" class="idref" href="#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="binder">Γ</span></a> <a id="fb3e85b59dc6391d0ecbb754d62cffcd" class="idref" href="#fb3e85b59dc6391d0ecbb754d62cffcd"><span class="id" title="binder">φ</span></a> <a id="cdf97a67e2bf8cf19967d0a2a7c777a6" class="idref" href="#cdf97a67e2bf8cf19967d0a2a7c777a6"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.SequentProps.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#fb3e85b59dc6391d0ecbb754d62cffcd"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#cdf97a67e2bf8cf19967d0a2a7c777a6"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.SequentProps.html#fb3e85b59dc6391d0ecbb754d62cffcd"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#cdf97a67e2bf8cf19967d0a2a7c777a6"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>φ) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> φ <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : φ <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">revert</span> φ <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">intros</span> φ0 <span class="id" title="var">Hin</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">⊥</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> (<span class="id" title="var">IHHp</span>); <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">Hp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">peapply</span> (<a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a> <span class="id" title="var">Γ</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span>  0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">box_tac</span>. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp1</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#generalised_axiom"><span class="id" title="lemma">generalised_axiom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">backward</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> φ2)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> φ2. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="id" title="var">erewrite</span> <a class="idref" href="ISL.Sequents.html#proper_Provable"><span class="id" title="instance">proper_Provable</span></a>;  [| |<span class="id" title="tactic">reflexivity</span>]);  [<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHHp1</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> φ0))|]. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; [|<span class="id" title="var">ms</span>]. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">exch</span> 0. <span class="id" title="var">box_tac</span>. <span class="id" title="tactic">assert</span>(<span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> φ0<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Γ</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">backward</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#generalised_axiom"><span class="id" title="lemma">generalised_axiom</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">assert</span>( <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0 <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazy_apply</span> (<span class="id" title="var">IHHp</span> (<a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> φ0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">env_in_add</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_R" class="idref" href="#open_boxes_R"><span class="id" title="lemma">open_boxes_R</span></a> {<a id="K:27" class="idref" href="#K:27"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} (<a id="6e093fd9af49d42270cd626602782b21" class="idref" href="#6e093fd9af49d42270cd626602782b21"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="25dbd6aa491e5149679c6579fb0ae954" class="idref" href="#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="binder">φ</span></a> <a id="26df4b7051ef34c34dff050718074149" class="idref" href="#26df4b7051ef34c34dff050718074149"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#6e093fd9af49d42270cd626602782b21"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#26df4b7051ef34c34dff050718074149"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><a class="idref" href="ISL.SequentProps.html#6e093fd9af49d42270cd626602782b21"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#25dbd6aa491e5149679c6579fb0ae954"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#26df4b7051ef34c34dff050718074149"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">revert</span> ψ.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>; <span class="id" title="tactic">intro</span> ψ.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a>. <span class="id" title="tactic">trivial</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>. <span class="id" title="var">lazy_apply</span> (<a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a> (<a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ) <span class="id" title="var">x</span> ψ).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>, <span class="id" title="var">IHΓ</span>, <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_disj_union"><span class="id" title="lemma">open_boxes_disj_union</span></a>, <a class="idref" href="ISL.Environments.html#open_boxes_singleton"><span class="id" title="lemma">open_boxes_singleton</span></a>; <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="AndL_rev" class="idref" href="#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a> {<a id="K:31" class="idref" href="#K:31"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="4956735a27db781e182b9ce86e32db7f" class="idref" href="#4956735a27db781e182b9ce86e32db7f"><span class="id" title="binder">Γ</span></a> <a id="b0bb32d01f678d17055964f3e3249188" class="idref" href="#b0bb32d01f678d17055964f3e3249188"><span class="id" title="binder">φ</span></a> <a id="4ec1ce917b9bde490905060cadfd8ac2" class="idref" href="#4ec1ce917b9bde490905060cadfd8ac2"><span class="id" title="binder">ψ</span></a> <a id="b104375ae41945cebf5bcc8aca5e02ad" class="idref" href="#b104375ae41945cebf5bcc8aca5e02ad"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#4956735a27db781e182b9ce86e32db7f"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#b0bb32d01f678d17055964f3e3249188"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.SequentProps.html#4ec1ce917b9bde490905060cadfd8ac2"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b104375ae41945cebf5bcc8aca5e02ad"><span class="id" title="variable">θ</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#4956735a27db781e182b9ce86e32db7f"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#b0bb32d01f678d17055964f3e3249188"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#4ec1ce917b9bde490905060cadfd8ac2"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b104375ae41945cebf5bcc8aca5e02ad"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 2. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">revert</span> φ ψ <span class="id" title="var">Hin</span>.<br/>
<span class="comment">(*&nbsp;we&nbsp;massaged&nbsp;the&nbsp;goal&nbsp;so&nbsp;that&nbsp;the&nbsp;environment&nbsp;of&nbsp;the&nbsp;derivation&nbsp;on&nbsp;which&nbsp;we&nbsp;do<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;induction&nbsp;is&nbsp;not&nbsp;composite&nbsp;anymore&nbsp;*)</span><br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">intros</span> φ0 ψ0 <span class="id" title="var">Hin</span>.<br/>
<span class="comment">(*&nbsp;auto&nbsp;takes&nbsp;care&nbsp;of&nbsp;the&nbsp;right&nbsp;rules&nbsp;easily&nbsp;*)</span><br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="comment">(*&nbsp;the&nbsp;main&nbsp;case&nbsp;*)</span><br/>
- <span class="comment">(*&nbsp;TODO:&nbsp;forward&nbsp;gets&nbsp;stuck&nbsp;there.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>(<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 0. <span class="id" title="var">backward</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="comment">(*&nbsp;only&nbsp;left&nbsp;rules&nbsp;remain.&nbsp;Now&nbsp;it's&nbsp;all&nbsp;a&nbsp;matter&nbsp;of&nbsp;putting&nbsp;the&nbsp;right&nbsp;principal<br/>
&nbsp;&nbsp;&nbsp;formula&nbsp;at&nbsp;the&nbsp;front,&nbsp;apply&nbsp;the&nbsp;rule;&nbsp;and&nbsp;put&nbsp;back&nbsp;the&nbsp;front&nbsp;formula&nbsp;at&nbsp;the&nbsp;back<br/>
&nbsp;&nbsp;&nbsp;before&nbsp;applying&nbsp;the&nbsp;induction&nbsp;hypothesis&nbsp;*)</span><br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 8. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">constructor</span> 9. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 10. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 11. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 13; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin0</span>. <span class="id" title="var">backward</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 14. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lazy_apply</span> (<span class="id" title="var">IHHp</span> φ0 ψ0).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OrL_rev" class="idref" href="#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> {<a id="K:36" class="idref" href="#K:36"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="e7472af7950d19b56384d59fb0876e2e" class="idref" href="#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="binder">Γ</span></a> <a id="45adcad7835e823452d48ee82b096bec" class="idref" href="#45adcad7835e823452d48ee82b096bec"><span class="id" title="binder">φ</span></a> <a id="68a32975a994cfa7e966f43c2f83b29b" class="idref" href="#68a32975a994cfa7e966f43c2f83b29b"><span class="id" title="binder">ψ</span></a> <a id="71b5f3c8d550e205629c7b1d6620c01a" class="idref" href="#71b5f3c8d550e205629c7b1d6620c01a"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#45adcad7835e823452d48ee82b096bec"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.SequentProps.html#68a32975a994cfa7e966f43c2f83b29b"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#71b5f3c8d550e205629c7b1d6620c01a"><span class="id" title="variable">θ</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#45adcad7835e823452d48ee82b096bec"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#71b5f3c8d550e205629c7b1d6620c01a"><span class="id" title="variable">θ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#e7472af7950d19b56384d59fb0876e2e"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#68a32975a994cfa7e966f43c2f83b29b"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#71b5f3c8d550e205629c7b1d6620c01a"><span class="id" title="variable">θ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Heq'</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>φ<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">θ</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>ψ<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">θ</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>);<br/>
[| <span class="id" title="tactic">split</span>; <span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1; <span class="id" title="tactic">tauto</span>].<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span> 3; <span class="id" title="var">now</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>).<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 4; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span> 5; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">peapply</span> <span class="id" title="var">Hp1</span>| <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>||<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span> 8; <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">constructor</span> 9; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 10; <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 11; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">split</span>; <span class="id" title="var">forward</span>; <span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin'</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ2<span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>;<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">constructor</span> 13; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>; <span class="id" title="var">exch</span> 0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>|<span class="id" title="var">exch</span> 0; <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>];<span class="id" title="var">ms</span>).<br/>
-  <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin'</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ0<span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span> 14; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>; <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*<br/>
Lemma&nbsp;open_boxes_spec&nbsp;Γ&nbsp;φ&nbsp;:&nbsp;φ&nbsp;∈&nbsp;open_boxes&nbsp;Γ&nbsp;-&gt;&nbsp;{φ&nbsp;∈&nbsp;Γ&nbsp;∧&nbsp;is_box&nbsp;φ&nbsp;=&nbsp;false}&nbsp;+&nbsp;{(□&nbsp;φ)&nbsp;∈&nbsp;Γ}.<br/>
Admitted.<br/>
&nbsp;&nbsp;Global&nbsp;Hint&nbsp;Resolve&nbsp;open_boxes_spec&nbsp;:&nbsp;proof.<br/>
<br/>
*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="TopL_rev" class="idref" href="#TopL_rev"><span class="id" title="lemma">TopL_rev</span></a> {<a id="K:41" class="idref" href="#K:41"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="18bf8c43a60891738d0d6115aa956824" class="idref" href="#18bf8c43a60891738d0d6115aa956824"><span class="id" title="binder">Γ</span></a> <a id="b21a593cc5a463973aa52c2cb99622b5" class="idref" href="#b21a593cc5a463973aa52c2cb99622b5"><span class="id" title="binder">φ</span></a> <a id="5ee7b8c4dae565faa36eaa99012b6f37" class="idref" href="#5ee7b8c4dae565faa36eaa99012b6f37"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.SequentProps.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><span class="id" title="notation">⊥</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#b21a593cc5a463973aa52c2cb99622b5"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5ee7b8c4dae565faa36eaa99012b6f37"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#18bf8c43a60891738d0d6115aa956824"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5ee7b8c4dae565faa36eaa99012b6f37"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><span class="id" title="notation">⊥</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <span class="id" title="notation">⊥</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span><span class="id" title="notation">⊥</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 0. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="var">forward</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>];  <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 8. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">constructor</span> 9. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 10. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 11. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">backward</span>;  [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>];  <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 13; <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 14. <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Immediate</span> <span class="id" title="var">TopL_rev</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLVar_rev" class="idref" href="#ImpLVar_rev"><span class="id" title="lemma">ImpLVar_rev</span></a> {<a id="K:45" class="idref" href="#K:45"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="c961ade242766a9739c5649c6c6965b1" class="idref" href="#c961ade242766a9739c5649c6c6965b1"><span class="id" title="binder">Γ</span></a> <a id="p:47" class="idref" href="#p:47"><span class="id" title="binder">p</span></a> <a id="1ba7e817658b9b19d6f7c0be467a6b9b" class="idref" href="#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="binder">φ</span></a> <a id="4bce4449a63001cd3c86a2120e02c23a" class="idref" href="#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#c961ade242766a9739c5649c6c6965b1"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.SequentProps.html#p:47"><span class="id" title="variable">p</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="variable">ψ</span></a>  <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#c961ade242766a9739c5649c6c6965b1"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.SequentProps.html#p:47"><span class="id" title="variable">p</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="notation">(</span><span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p0</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;+  <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;inversion&nbsp;for&nbsp;ImpLImp&nbsp;is&nbsp;only&nbsp;partial&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLImp_prev" class="idref" href="#ImpLImp_prev"><span class="id" title="lemma">ImpLImp_prev</span></a> {<a id="K:50" class="idref" href="#K:50"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="f82dd08e39371d88da60b669e12500e0" class="idref" href="#f82dd08e39371d88da60b669e12500e0"><span class="id" title="binder">Γ</span></a> <a id="9f9acd732bccce43ce5da684b253c23e" class="idref" href="#9f9acd732bccce43ce5da684b253c23e"><span class="id" title="binder">φ1</span></a> <a id="b878f4e79ade21395f5cc936e27725f8" class="idref" href="#b878f4e79ade21395f5cc936e27725f8"><span class="id" title="binder">φ2</span></a> <a id="ddc2dcc40141de67730e2a7e12828bc6" class="idref" href="#ddc2dcc40141de67730e2a7e12828bc6"><span class="id" title="binder">φ3</span></a> <a id="b562ea17694158051f9f18ea894877e4" class="idref" href="#b562ea17694158051f9f18ea894877e4"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#9f9acd732bccce43ce5da684b253c23e"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#b878f4e79ade21395f5cc936e27725f8"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#ddc2dcc40141de67730e2a7e12828bc6"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b562ea17694158051f9f18ea894877e4"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#f82dd08e39371d88da60b669e12500e0"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#ddc2dcc40141de67730e2a7e12828bc6"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b562ea17694158051f9f18ea894877e4"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> :<span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ4<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ5<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;inversion&nbsp;for&nbsp;ImpLbox&nbsp;is&nbsp;only&nbsp;partial&nbsp;too&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLBox_prev" class="idref" href="#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <a id="a73c5bc91c1ba24915bfe2f5f6f7add3" class="idref" href="#a73c5bc91c1ba24915bfe2f5f6f7add3"><span class="id" title="binder">Γ</span></a> <a id="43dad2b64d5a1d55e0c1d8c48b40ec38" class="idref" href="#43dad2b64d5a1d55e0c1d8c48b40ec38"><span class="id" title="binder">φ1</span></a> <a id="a6918344a9e6fae185eefb559e777b0d" class="idref" href="#a6918344a9e6fae185eefb559e777b0d"><span class="id" title="binder">φ2</span></a> <a id="53bd798cac3ea04db9b5e3eed7a87884" class="idref" href="#53bd798cac3ea04db9b5e3eed7a87884"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#a73c5bc91c1ba24915bfe2f5f6f7add3"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a><a class="idref" href="ISL.SequentProps.html#43dad2b64d5a1d55e0c1d8c48b40ec38"><span class="id" title="variable">φ1</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#a6918344a9e6fae185eefb559e777b0d"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#53bd798cac3ea04db9b5e3eed7a87884"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#a73c5bc91c1ba24915bfe2f5f6f7add3"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#a6918344a9e6fae185eefb559e777b0d"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#53bd798cac3ea04db9b5e3eed7a87884"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ1<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ1<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">)</span> <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> :<span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ1<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span>(<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ0 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLOr_rev" class="idref" href="#ImpLOr_rev"><span class="id" title="lemma">ImpLOr_rev</span></a> {<a id="K:60" class="idref" href="#K:60"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="316bf51392b35e821b63bde80bf611ff" class="idref" href="#316bf51392b35e821b63bde80bf611ff"><span class="id" title="binder">Γ</span></a> <a id="9b57a32313cdb98c1e4185b7b419c545" class="idref" href="#9b57a32313cdb98c1e4185b7b419c545"><span class="id" title="binder">φ1</span></a> <a id="fc20d998c36759d494e5a51332842dba" class="idref" href="#fc20d998c36759d494e5a51332842dba"><span class="id" title="binder">φ2</span></a> <a id="bf694a339d6c923a1afbe2b78c23f30c" class="idref" href="#bf694a339d6c923a1afbe2b78c23f30c"><span class="id" title="binder">φ3</span></a> <a id="d78901349cf91c611cb50cb2ea4b6071" class="idref" href="#d78901349cf91c611cb50cb2ea4b6071"><span class="id" title="binder">ψ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#316bf51392b35e821b63bde80bf611ff"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#9b57a32313cdb98c1e4185b7b419c545"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.SequentProps.html#fc20d998c36759d494e5a51332842dba"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#bf694a339d6c923a1afbe2b78c23f30c"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#d78901349cf91c611cb50cb2ea4b6071"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#316bf51392b35e821b63bde80bf611ff"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#9b57a32313cdb98c1e4185b7b419c545"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#bf694a339d6c923a1afbe2b78c23f30c"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)•(</span></a><a class="idref" href="ISL.SequentProps.html#fc20d998c36759d494e5a51332842dba"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#bf694a339d6c923a1afbe2b78c23f30c"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#d78901349cf91c611cb50cb2ea4b6071"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> :<span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 2. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 8. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">constructor</span> 9. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 10. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ4<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ5<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 11; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLAnd_rev" class="idref" href="#ImpLAnd_rev"><span class="id" title="lemma">ImpLAnd_rev</span></a> {<a id="K:66" class="idref" href="#K:66"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="9cd1870a4a886601ca6d9db2f5bb0b92" class="idref" href="#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="binder">Γ</span></a> <a id="8fa44929f1bcb3c9568749a5599b6709" class="idref" href="#8fa44929f1bcb3c9568749a5599b6709"><span class="id" title="binder">φ1</span></a> <a id="e701febb7b370b939e87b0deacd2a471" class="idref" href="#e701febb7b370b939e87b0deacd2a471"><span class="id" title="binder">φ2</span></a> <a id="c4bcf9b6bb917b9ecf2f73f82f7b34f1" class="idref" href="#c4bcf9b6bb917b9ecf2f73f82f7b34f1"><span class="id" title="binder">φ3</span></a> <a id="d70a53eab1cf0a476aa5671d2965298f" class="idref" href="#d70a53eab1cf0a476aa5671d2965298f"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#8fa44929f1bcb3c9568749a5599b6709"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.SequentProps.html#e701febb7b370b939e87b0deacd2a471"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#c4bcf9b6bb917b9ecf2f73f82f7b34f1"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#d70a53eab1cf0a476aa5671d2965298f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#8fa44929f1bcb3c9568749a5599b6709"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#e701febb7b370b939e87b0deacd2a471"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#c4bcf9b6bb917b9ecf2f73f82f7b34f1"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#d70a53eab1cf0a476aa5671d2965298f"><span class="id" title="variable">ψ</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ'</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> :<span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ'</span>)<span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HH</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 4. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">constructor</span> 8. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">constructor</span> 9. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ4<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ5<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">constructor</span> 10. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 11; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">constructor</span> 12; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">AndL_rev</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">OrL_rev</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">ImpLVar_rev</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">ImpLOr_rev</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">ImpLAnd_rev</span> : <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">ImpLBox_prev</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="exfalso" class="idref" href="#exfalso"><span class="id" title="lemma">exfalso</span></a> {<a id="K:72" class="idref" href="#K:72"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="240819cd2e04415031aa8ca633621322" class="idref" href="#240819cd2e04415031aa8ca633621322"><span class="id" title="binder">Γ</span></a> <a id="8b1a2ce24fc4ce10797c3ed033c73281" class="idref" href="#8b1a2ce24fc4ce10797c3ed033c73281"><span class="id" title="binder">φ</span></a>: <a class="idref" href="ISL.SequentProps.html#240819cd2e04415031aa8ca633621322"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="notation">⊥</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#240819cd2e04415031aa8ca633621322"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#8b1a2ce24fc4ce10797c3ed033c73281"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Immediate</span> <span class="id" title="var">exfalso</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="AndR_rev" class="idref" href="#AndR_rev"><span class="id" title="lemma">AndR_rev</span></a> {<a id="K:75" class="idref" href="#K:75"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} {<a id="885e6108c1350c686de92430329090ea" class="idref" href="#885e6108c1350c686de92430329090ea"><span class="id" title="binder">Γ</span></a> <a id="72c06b0c6ce84d698392e422ca50e933" class="idref" href="#72c06b0c6ce84d698392e422ca50e933"><span class="id" title="binder">φ1</span></a> <a id="5f5c74166ab1b5f26fcbd818080fa466" class="idref" href="#5f5c74166ab1b5f26fcbd818080fa466"><span class="id" title="binder">φ2</span></a>} : <a class="idref" href="ISL.SequentProps.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#72c06b0c6ce84d698392e422ca50e933"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="ISL.SequentProps.html#5f5c74166ab1b5f26fcbd818080fa466"><span class="id" title="variable">φ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#72c06b0c6ce84d698392e422ca50e933"><span class="id" title="variable">φ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#885e6108c1350c686de92430329090ea"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5f5c74166ab1b5f26fcbd818080fa466"><span class="id" title="variable">φ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span> <span class="id" title="var">generalizing</span> φ1 φ2 <span class="id" title="var">Hp</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A general inversion rule for disjunction is not admissible. However, inversion holds if one of the formulas is ⊥. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OrR1Bot_rev" class="idref" href="#OrR1Bot_rev"><span class="id" title="lemma">OrR1Bot_rev</span></a> {<a id="K:79" class="idref" href="#K:79"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="1858a6e61a9ff5b29ff29b7a31e6f9d4" class="idref" href="#1858a6e61a9ff5b29ff29b7a31e6f9d4"><span class="id" title="binder">Γ</span></a> <a id="0c1ce04dd7418cb1ad15da93d3f82bf1" class="idref" href="#0c1ce04dd7418cb1ad15da93d3f82bf1"><span class="id" title="binder">φ</span></a> :  <a class="idref" href="ISL.SequentProps.html#1858a6e61a9ff5b29ff29b7a31e6f9d4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#0c1ce04dd7418cb1ad15da93d3f82bf1"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <span class="id" title="notation">⊥</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#1858a6e61a9ff5b29ff29b7a31e6f9d4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#0c1ce04dd7418cb1ad15da93d3f82bf1"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hd</span>.<br/>
&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hd</span> <span class="id" title="var">generalizing</span> φ; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.SequentProps.html#exfalso"><span class="id" title="lemma">exfalso</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OrR2Bot_rev" class="idref" href="#OrR2Bot_rev"><span class="id" title="lemma">OrR2Bot_rev</span></a> {<a id="K:82" class="idref" href="#K:82"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="7f0b6c4481d58aa56d12a792961f7b07" class="idref" href="#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="binder">Γ</span></a> <a id="cb6ccfc86273c6948c0660f4085a8084" class="idref" href="#cb6ccfc86273c6948c0660f4085a8084"><span class="id" title="binder">φ</span></a> :  <a class="idref" href="ISL.SequentProps.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="notation">⊥</span> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.SequentProps.html#cb6ccfc86273c6948c0660f4085a8084"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#7f0b6c4481d58aa56d12a792961f7b07"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#cb6ccfc86273c6948c0660f4085a8084"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hd</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hd</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ISL.SequentProps.html#exfalso"><span class="id" title="lemma">exfalso</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We prove Lemma 4.1 of (Dyckhoff &amp; Negri 2000). This lemma shows that a
    weaker version of the ImpL rule of Gentzen's original calculus LJ is still
    admissible in G4ip. The proof is simple, but requires the inversion lemmas
    proved above.
  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weak_ImpL" class="idref" href="#weak_ImpL"><span class="id" title="lemma">weak_ImpL</span></a> {<a id="K:85" class="idref" href="#K:85"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="d5364bc5fc249fbedcb7da053e2ed862" class="idref" href="#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="binder">Γ</span></a> <a id="65366a0258bed74b0d2197d689324afe" class="idref" href="#65366a0258bed74b0d2197d689324afe"><span class="id" title="binder">φ</span></a> <a id="1e92df8b017a63f045889ea6d994f1fb" class="idref" href="#1e92df8b017a63f045889ea6d994f1fb"><span class="id" title="binder">ψ</span></a> <a id="7cb36c3393d3ef36e9afa98c557ee0bb" class="idref" href="#7cb36c3393d3ef36e9afa98c557ee0bb"><span class="id" title="binder">θ</span></a> :<a class="idref" href="ISL.SequentProps.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#65366a0258bed74b0d2197d689324afe"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#1e92df8b017a63f045889ea6d994f1fb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#7cb36c3393d3ef36e9afa98c557ee0bb"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#d5364bc5fc249fbedcb7da053e2ed862"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#65366a0258bed74b0d2197d689324afe"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#1e92df8b017a63f045889ea6d994f1fb"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#7cb36c3393d3ef36e9afa98c557ee0bb"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>).<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">revert</span> ψ <span class="id" title="var">θ</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">intros</span> ψ0 <span class="id" title="var">θ0</span> <span class="id" title="var">Hp'</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>, <span class="id" title="var">Hp'</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">constructor</span> 4; <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">constructor</span> 7; <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>, <a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hp'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>, <a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hp'</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="tactic">constructor</span> 9. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ISL.SequentProps.html#ImpLImp_prev"><span class="id" title="lemma">ImpLImp_prev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">eassumption</span>.<br/>
- <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0...<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="keyword">with</span> φ1. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hp'</span>.<br/>
- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">weak_ImpL</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab33"></a><h2 class="section">Contraction</h2>


<div class="paragraph"> </div>

 The aim of this section is to prove that the contraction rule is admissible in
 G4ip. 
<div class="paragraph"> </div>

 An auxiliary definition of **height** of a proof, measured along the leftmost branch. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="height" class="idref" href="#height"><span class="id" title="definition">height</span></a> {<a id="K:90" class="idref" href="#K:90"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} {<a id="9dc25b62c58a0634ea47eb0bb9467ecf" class="idref" href="#9dc25b62c58a0634ea47eb0bb9467ecf"><span class="id" title="binder">Γ</span></a> <a id="a6cd1b08d9450555c7d9308fd2cb2b0c" class="idref" href="#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="binder">φ</span></a>} (<a id="Hp:93" class="idref" href="#Hp:93"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="ISL.SequentProps.html#9dc25b62c58a0634ea47eb0bb9467ecf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="variable">φ</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="ISL.SequentProps.html#Hp:93"><span class="id" title="variable">Hp</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="ISL.Sequents.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; 1<br/>
| <a class="idref" href="ISL.Sequents.html#ExFalso"><span class="id" title="constructor">ExFalso</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; 1<br/>
| <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H2</span><br/>
| <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">θ</span> <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">θ</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H2</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a> <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">p</span> φ ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a> <span class="id" title="var">Γ</span> φ1 φ2 φ3 ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a> <span class="id" title="var">Γ</span> φ1 φ2 φ3 ψ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a> <span class="id" title="var">Γ</span> φ1 φ2 φ3 ψ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H2</span><br/>
| <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a> <span class="id" title="var">Γ</span> φ1 φ2 ψ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H2</span><br/>
| <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a> <span class="id" title="var">Γ</span> φ <span class="id" title="var">H</span> =&gt; 1 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ISL.SequentProps.html#height:94"><span class="id" title="definition">height</span></a> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="height_0" class="idref" href="#height_0"><span class="id" title="lemma">height_0</span></a> {<a id="K:96" class="idref" href="#K:96"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} {<a id="f7367dffae2db2afe9f8d9f01aa6a6e7" class="idref" href="#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="binder">Γ</span></a> <a id="8656400559aef1f00c203ae85a58cc93" class="idref" href="#8656400559aef1f00c203ae85a58cc93"><span class="id" title="binder">φ</span></a>} (<a id="Hp:99" class="idref" href="#Hp:99"><span class="id" title="binder">Hp</span></a> : <a class="idref" href="ISL.SequentProps.html#f7367dffae2db2afe9f8d9f01aa6a6e7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#8656400559aef1f00c203ae85a58cc93"><span class="id" title="variable">φ</span></a>) : <a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <a class="idref" href="ISL.SequentProps.html#Hp:99"><span class="id" title="variable">Hp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 4.2 in (Dyckhoff &amp; Negri 2000), showing that a "duplication" in the context of the implication-case of the implication-left rule is admissible. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpLImp_dup" class="idref" href="#ImpLImp_dup"><span class="id" title="lemma">ImpLImp_dup</span></a> {<a id="K:100" class="idref" href="#K:100"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="34cd44dd39c6730766cf1b6ffd7a4239" class="idref" href="#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="binder">Γ</span></a> <a id="558162a78f21b799ba4ce7ea5f50f8da" class="idref" href="#558162a78f21b799ba4ce7ea5f50f8da"><span class="id" title="binder">φ1</span></a> <a id="9b81f4cbdd73dfa3e7aa078e030dd9dc" class="idref" href="#9b81f4cbdd73dfa3e7aa078e030dd9dc"><span class="id" title="binder">φ2</span></a> <a id="c695e4e0eae26fe88daa1c7451990939" class="idref" href="#c695e4e0eae26fe88daa1c7451990939"><span class="id" title="binder">φ3</span></a> <a id="82486b7849d4f5f9e2eb5054d3299564" class="idref" href="#82486b7849d4f5f9e2eb5054d3299564"><span class="id" title="binder">θ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#558162a78f21b799ba4ce7ea5f50f8da"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#9b81f4cbdd73dfa3e7aa078e030dd9dc"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#c695e4e0eae26fe88daa1c7451990939"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#82486b7849d4f5f9e2eb5054d3299564"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#558162a78f21b799ba4ce7ea5f50f8da"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#9b81f4cbdd73dfa3e7aa078e030dd9dc"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#c695e4e0eae26fe88daa1c7451990939"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#9b81f4cbdd73dfa3e7aa078e030dd9dc"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#c695e4e0eae26fe88daa1c7451990939"><span class="id" title="variable">φ3</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#82486b7849d4f5f9e2eb5054d3299564"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq0</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">HeqΓ</span> : <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">HeqΓ</span> 3.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">Γ0</span>; <span class="id" title="var">ms</span>).<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HeqΓ</span> <span class="id" title="var">Heq0</span>.<br/>
<span class="comment">(*&nbsp;by&nbsp;induction&nbsp;on&nbsp;the&nbsp;height&nbsp;of&nbsp;the&nbsp;derivation&nbsp;*)</span><br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hleh</span> : <a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">h</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqh</span>.<br/>
<span class="id" title="var">revert</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">h</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span>;<br/>
[<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.SequentProps.html#height_0"><span class="id" title="lemma">height_0</span></a> <span class="id" title="var">Hp</span>); <span class="id" title="var">lia</span>|].<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleh</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ0 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ4<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ5<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weak_ImpL"><span class="id" title="lemma">weak_ImpL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">do</span> 2 (<span class="id" title="var">exch</span> 0; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>). <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpBox_dup" class="idref" href="#ImpBox_dup"><span class="id" title="lemma">ImpBox_dup</span></a> <a id="b3c7ccaae8c465e07e25793f53653087" class="idref" href="#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="binder">Γ</span></a> <a id="9f67af20d4c3e0e50d5c1eb7805383c9" class="idref" href="#9f67af20d4c3e0e50d5c1eb7805383c9"><span class="id" title="binder">φ1</span></a> <a id="58444f62c616ba7bd148491021c8980c" class="idref" href="#58444f62c616ba7bd148491021c8980c"><span class="id" title="binder">φ2</span></a> <a id="3119b0696786d60163eef7ee34837221" class="idref" href="#3119b0696786d60163eef7ee34837221"><span class="id" title="binder">θ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a><a class="idref" href="ISL.SequentProps.html#9f67af20d4c3e0e50d5c1eb7805383c9"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#58444f62c616ba7bd148491021c8980c"><span class="id" title="variable">φ2</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>  <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#3119b0696786d60163eef7ee34837221"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#b3c7ccaae8c465e07e25793f53653087"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.SequentProps.html#9f67af20d4c3e0e50d5c1eb7805383c9"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.SequentProps.html#9f67af20d4c3e0e50d5c1eb7805383c9"><span class="id" title="variable">φ1</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#58444f62c616ba7bd148491021c8980c"><span class="id" title="variable">φ2</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#3119b0696786d60163eef7ee34837221"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq0</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">HeqΓ</span> : <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">)]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">HeqΓ</span> 3.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">Γ0</span>; <span class="id" title="var">ms</span>).<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HeqΓ</span> <span class="id" title="var">Heq0</span>.<br/>
<span class="comment">(*&nbsp;by&nbsp;induction&nbsp;on&nbsp;the&nbsp;height&nbsp;of&nbsp;the&nbsp;derivation&nbsp;*)</span><br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hleh</span> : <a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">h</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqh</span>.<br/>
<span class="id" title="var">revert</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">h</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span>;<br/>
[<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.SequentProps.html#height_0"><span class="id" title="lemma">height_0</span></a> <span class="id" title="var">Hp</span>); <span class="id" title="var">lia</span>|].<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleh</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ0 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (φ1) <span class="id" title="keyword">with</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (φ1) <span class="id" title="keyword">with</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>; <span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;technical&nbsp;lemma&nbsp;for&nbsp;contraction&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Lemma</span> <a id="p_contr" class="idref" href="#p_contr"><span class="id" title="lemma">p_contr</span></a> {<a id="K:110" class="idref" href="#K:110"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="5fed251aa58d6913e63540c17d3d6121" class="idref" href="#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="binder">Γ</span></a> <a id="6c42375041947e3065ea6167736f6895" class="idref" href="#6c42375041947e3065ea6167736f6895"><span class="id" title="binder">φ</span></a> <a id="11ab056f3e1febb44c70ba9619d58931" class="idref" href="#11ab056f3e1febb44c70ba9619d58931"><span class="id" title="binder">θ</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="ISL.SequentProps.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#6c42375041947e3065ea6167736f6895"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#6c42375041947e3065ea6167736f6895"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.SequentProps.html#6c42375041947e3065ea6167736f6895"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#11ab056f3e1febb44c70ba9619d58931"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.SequentProps.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#6c42375041947e3065ea6167736f6895"><span class="id" title="variable">φ</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#11ab056f3e1febb44c70ba9619d58931"><span class="id" title="variable">θ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hd</span>; <span class="id" title="var">peapply</span> <span class="id" title="var">Hd</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_box_weight_open_box" class="idref" href="#is_box_weight_open_box"><span class="id" title="lemma">is_box_weight_open_box</span></a> {<a id="K:114" class="idref" href="#K:114"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="e928ac509404338989c930f7c42f614b" class="idref" href="#e928ac509404338989c930f7c42f614b"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> <a class="idref" href="ISL.SequentProps.html#e928ac509404338989c930f7c42f614b"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.SequentProps.html#e928ac509404338989c930f7c42f614b"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.SequentProps.html#e928ac509404338989c930f7c42f614b"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weight_open_box" class="idref" href="#weight_open_box"><span class="id" title="lemma">weight_open_box</span></a> {<a id="K:116" class="idref" href="#K:116"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="deb6122a46e3b6ef2acd918391eed828" class="idref" href="#deb6122a46e3b6ef2acd918391eed828"><span class="id" title="binder">φ</span></a> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> <a class="idref" href="ISL.SequentProps.html#deb6122a46e3b6ef2acd918391eed828"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.SequentProps.html#deb6122a46e3b6ef2acd918391eed828"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Admissibility of contraction in G4ip. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="contraction" class="idref" href="#contraction"><span class="id" title="lemma">contraction</span></a> {<a id="K:118" class="idref" href="#K:118"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="e6bb8b3e7b4f2d9663b568c177a5d39b" class="idref" href="#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="binder">Γ</span></a> <a id="893a9fd444b734be8ad2d601e6bfb683" class="idref" href="#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="binder">ψ</span></a> <a id="4fc6dc128b25418a1abb84c8fbbbd220" class="idref" href="#4fc6dc128b25418a1abb84c8fbbbd220"><span class="id" title="binder">θ</span></a> : <a class="idref" href="ISL.SequentProps.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#4fc6dc128b25418a1abb84c8fbbbd220"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#e6bb8b3e7b4f2d9663b568c177a5d39b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.SequentProps.html#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#4fc6dc128b25418a1abb84c8fbbbd220"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>ψ) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq0</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">HeqΓ</span> : <span class="id" title="notation">(</span><span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>ψ<span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">rw</span> <span class="id" title="var">HeqΓ</span> 0.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : ψ <span class="id" title="notation">∈</span> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">Γ0</span>; <span class="id" title="var">ms</span>).<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin'</span> : ψ <span class="id" title="notation">∈</span> <span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span>(<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HeqΓ</span>; <span class="id" title="var">ms</span>).<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Γ</span> <span class="id" title="var">HeqΓ</span> <span class="id" title="var">Heq0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hp</span>.<br/>
<span class="comment">(*&nbsp;by&nbsp;induction&nbsp;on&nbsp;the&nbsp;weight&nbsp;of&nbsp;ψ&nbsp;*)</span><br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> ψ) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hle</span> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqw</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ0</span> ψ <span class="id" title="var">θ</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hin'</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">θ</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">Hp</span>; [<span class="id" title="tactic">destruct</span> ψ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">lia</span>|].<br/>
<span class="comment">(*&nbsp;by&nbsp;induction&nbsp;on&nbsp;the&nbsp;height&nbsp;of&nbsp;the&nbsp;premise&nbsp;*)</span><br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hleh</span> : <a class="idref" href="ISL.SequentProps.html#height"><span class="id" title="definition">height</span></a> <span class="id" title="var">Hp</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">h</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqh</span>.<br/>
<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hin'</span>. <span class="id" title="var">revert</span> ψ <span class="id" title="var">Hle</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">h</span>]; <span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Hle</span> <span class="id" title="var">Γ</span> <span class="id" title="var">θ</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hleh</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hin'</span>;<br/>
[<span class="id" title="tactic">pose</span> (<a class="idref" href="ISL.SequentProps.html#height_0"><span class="id" title="lemma">height_0</span></a> <span class="id" title="var">Hp</span>); <span class="id" title="var">lia</span>|].<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hleh</span>, <span class="id" title="var">Hle</span>.<br/>
- <span class="id" title="tactic">case</span>(<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#Atom"><span class="id" title="constructor">Atom</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#Atom"><span class="id" title="constructor">Atom</span></a>.<br/>
- <span class="id" title="tactic">case</span>(<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">⊥</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ExFalso"><span class="id" title="constructor">ExFalso</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ExFalso"><span class="id" title="constructor">ExFalso</span></a>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#AndL_rev"><span class="id" title="lemma">AndL_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin'</span>). <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="var">_</span> φ ψ0 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">exch</span> 0. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ISL.SequentProps.html#OrL_rev"><span class="id" title="lemma">OrL_rev</span></a> <span class="id" title="var">_</span> φ ψ0 <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">exch</span> 0. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hcut</span> : (<a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> ψ0)); [|<span class="id" title="var">peapply</span> <span class="id" title="var">Hcut</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>, <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLVar_rev"><span class="id" title="lemma">ImpLVar_rev</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> (<a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span>. <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLAnd_rev"><span class="id" title="lemma">ImpLAnd_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLOr_rev"><span class="id" title="lemma">ImpLOr_rev</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="var">exch</span> 1. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 (<span class="id" title="var">exch</span> 0; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>|<span class="id" title="var">exch</span> 1]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 1; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpLImp_dup"><span class="id" title="lemma">ImpLImp_dup</span></a>. <span class="comment">(*&nbsp;key&nbsp;lemma&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpR_rev"><span class="id" title="lemma">ImpR_rev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.SequentProps.html#ImpLImp_prev"><span class="id" title="lemma">ImpLImp_prev</span></a> <span class="id" title="var">_</span> φ1 φ2 φ3). <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
-  <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="var">exhibit</span> <span class="id" title="var">Hin'</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span> := <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin'</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">box_tac</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">rw</span> <span class="id" title="var">Hr</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 (<span class="id" title="var">exch</span> 0; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>|<span class="id" title="var">exch</span> 1]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Heq</span> : <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">]}</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">]}</span><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ</span><span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<span class="id" title="notation">]}</span><a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">ms</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 5. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#ImpBox_dup"><span class="id" title="lemma">ImpBox_dup</span></a>. <span class="id" title="var">exch</span> 0; <span class="id" title="var">exch</span> 1. <span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a>; [|<span class="id" title="var">ms</span>]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a>. <span class="id" title="var">ms</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#open_boxes_spec'"><span class="id" title="lemma">open_boxes_spec'</span></a>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#p_contr"><span class="id" title="lemma">p_contr</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>; [<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a>; <span class="id" title="var">ms</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ISL.SequentProps.html#ImpLBox_prev"><span class="id" title="lemma">ImpLBox_prev</span></a> <span class="id" title="var">_</span> φ1 φ2). <span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazy_apply</span> <span class="id" title="var">Hp2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ISL.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span>ψ : ψ <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>ψ <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> ψ); <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#is_box_weight_open_box"><span class="id" title="lemma">is_box_weight_open_box</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hle'</span> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a>(<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a>ψ) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a> ψ) <span class="id" title="var">Hle'</span>) <span class="id" title="keyword">with</span>  <span class="id" title="var">Hp1</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#is_not_box_open_box"><span class="id" title="lemma">is_not_box_open_box</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>ψ. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>ψ. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>ψ. <span class="id" title="var">ms</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>ψ. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHh</span> ψ <span class="id" title="var">Hle</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">Hp2</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
-  <span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span>ψ : ψ <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#In_open_boxes"><span class="id" title="lemma">In_open_boxes</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>ψ.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_remove"><span class="id" title="lemma">open_boxes_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>ψ <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHh</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weight_open_box"><span class="id" title="lemma">weight_open_box</span></a>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">contraction</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="generalised_contraction" class="idref" href="#generalised_contraction"><span class="id" title="lemma">generalised_contraction</span></a> {<a id="K:122" class="idref" href="#K:122"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} (<a id="2c5c8f050a64470a889c3f533c77e693" class="idref" href="#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="binder">Γ</span></a> <a id="536dbdf53e606a31900b86213a08adce" class="idref" href="#536dbdf53e606a31900b86213a08adce"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="2243be9c1ec54be702c0f99ca3b9346e" class="idref" href="#2243be9c1ec54be702c0f99ca3b9346e"><span class="id" title="binder">φ</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="ISL.SequentProps.html#536dbdf53e606a31900b86213a08adce"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.SequentProps.html#536dbdf53e606a31900b86213a08adce"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.SequentProps.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#2243be9c1ec54be702c0f99ca3b9346e"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#536dbdf53e606a31900b86213a08adce"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="ISL.SequentProps.html#2c5c8f050a64470a889c3f533c77e693"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#2243be9c1ec54be702c0f99ca3b9346e"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">IHΓ'</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">peapply</span> (<a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a> (<span class="id" title="var">Γ'</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">Γ</span>) <span class="id" title="var">x</span>). <span class="id" title="var">peapply</span> (<span class="id" title="var">IHΓ'</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><span class="id" title="var">x</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><span class="id" title="var">x</span>)). <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab34"></a><h2 class="section">Admissibility of LJ's implication left rule</h2>

<div class="paragraph"> </div>

 We show that the general implication left rule of LJ is admissible in G4ip.
  This is Proposition 5.2 in (Dyckhoff Negri 2000). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ImpL" class="idref" href="#ImpL"><span class="id" title="lemma">ImpL</span></a> {<a id="K:126" class="idref" href="#K:126"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> <a id="3058349f6b0230257fdc67afc38b6f93" class="idref" href="#3058349f6b0230257fdc67afc38b6f93"><span class="id" title="binder">φ</span></a> <a id="548804bb5d0bd40b81f4d5f69eb83129" class="idref" href="#548804bb5d0bd40b81f4d5f69eb83129"><span class="id" title="binder">ψ</span></a> <a id="b83b6c2d30d7ca8d42e9ccb56e1dc3c5" class="idref" href="#b83b6c2d30d7ca8d42e9ccb56e1dc3c5"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.SequentProps.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#3058349f6b0230257fdc67afc38b6f93"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#548804bb5d0bd40b81f4d5f69eb83129"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#3058349f6b0230257fdc67afc38b6f93"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#548804bb5d0bd40b81f4d5f69eb83129"><span class="id" title="variable">ψ</span></a>  <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b83b6c2d30d7ca8d42e9ccb56e1dc3c5"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#3058349f6b0230257fdc67afc38b6f93"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#548804bb5d0bd40b81f4d5f69eb83129"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#b83b6c2d30d7ca8d42e9ccb56e1dc3c5"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>, <a class="idref" href="ISL.SequentProps.html#weak_ImpL"><span class="id" title="lemma">weak_ImpL</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;5.3&nbsp;(Dyckhoff&nbsp;Negri&nbsp;2000)&nbsp;shows&nbsp;that&nbsp;an&nbsp;implication&nbsp;on&nbsp;the&nbsp;left&nbsp;may&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;weakened.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="imp_cut" class="idref" href="#imp_cut"><span class="id" title="lemma">imp_cut</span></a> {<a id="K:131" class="idref" href="#K:131"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="7daa287e528036c696860f585d8407e3" class="idref" href="#7daa287e528036c696860f585d8407e3"><span class="id" title="binder">φ</span></a> <a id="94437c13641ff4a457f07827e3d2a8a4" class="idref" href="#94437c13641ff4a457f07827e3d2a8a4"><span class="id" title="binder">Γ</span></a> <a id="69d962242cc906f13aaeb95168ced377" class="idref" href="#69d962242cc906f13aaeb95168ced377"><span class="id" title="binder">ψ</span></a> <a id="8252e2106eadf441c7c16c8283e5e96a" class="idref" href="#8252e2106eadf441c7c16c8283e5e96a"><span class="id" title="binder">θ</span></a>: <a class="idref" href="ISL.SequentProps.html#94437c13641ff4a457f07827e3d2a8a4"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a><a class="idref" href="ISL.SequentProps.html#7daa287e528036c696860f585d8407e3"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="ISL.SequentProps.html#69d962242cc906f13aaeb95168ced377"><span class="id" title="variable">ψ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#8252e2106eadf441c7c16c8283e5e96a"><span class="id" title="variable">θ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#94437c13641ff4a457f07827e3d2a8a4"><span class="id" title="variable">Γ</span></a><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a><a class="idref" href="ISL.SequentProps.html#69d962242cc906f13aaeb95168ced377"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#8252e2106eadf441c7c16c8283e5e96a"><span class="id" title="variable">θ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">Γ</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ0</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[(</span>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<span class="id" title="notation">)]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hin</span> : <span class="id" title="notation">(</span>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="var">rw</span> <span class="id" title="var">Heq</span> 1. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="var">remember</span> (<a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hle</span> : <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> φ <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqw</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ0</span> φ ψ <span class="id" title="var">θ</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span>  <span class="id" title="var">Γ</span> φ ψ <span class="id" title="var">θ</span> <span class="id" title="var">Hle</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hp</span>;<br/>
&nbsp;[<span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">lia</span>|].<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
-<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndR"><span class="id" title="constructor">AndR</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
- <span class="id" title="var">forward</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#AndL"><span class="id" title="constructor">AndL</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR1"><span class="id" title="constructor">OrR1</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrR2"><span class="id" title="constructor">OrR2</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
- <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#OrL"><span class="id" title="constructor">OrL</span></a>; <span class="id" title="var">backward</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>]; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpR"><span class="id" title="constructor">ImpR</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ0<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="var">forward</span>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLVar"><span class="id" title="constructor">ImpLVar</span></a>. <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Heq1</span> : <span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>φ1 <a class="idref" href="ISL.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<span class="id" title="notation">]}</span><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="var">Γ</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">ms</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rw</span> <span class="id" title="var">Heq1</span> 1; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> (<span class="id" title="var">IHw</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) φ2 ψ ψ0); [<span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> (<span class="id" title="var">IHw</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) φ1 (φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ) ψ0); [<span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLAnd"><span class="id" title="constructor">ImpLAnd</span></a>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#contraction"><span class="id" title="lemma">contraction</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> (<span class="id" title="var">IHw</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) φ1 ψ); [<span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exch</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">peapply</span> (<span class="id" title="var">IHw</span> (<span class="id" title="var">Γ</span><a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)•(</span></a>φ2 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a>) φ2 ψ); <span class="id" title="tactic">trivial</span>; [<span class="id" title="var">lia</span>|<span class="id" title="var">ms</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLOr"><span class="id" title="constructor">ImpLOr</span></a>; <span class="id" title="var">exch</span> 0; <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp</span>; <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a> <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ3<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq0</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpLImp"><span class="id" title="constructor">ImpLImp</span></a>; <span class="id" title="var">backward</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>); <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span>(<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a>φ1 <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> φ2<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>φ <a class="idref" href="ISL.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">peapply</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="var">forward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#ImpBox"><span class="id" title="constructor">ImpBox</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">exch</span> 0. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp1</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHp2</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">box_tac</span>. <span class="id" title="var">backward</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>, <span class="id" title="var">IHHp</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">imp_cut</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_boxes_case" class="idref" href="#open_boxes_case"><span class="id" title="lemma">open_boxes_case</span></a> <a id="a82e7669fa99087a53835e65c4223d0d" class="idref" href="#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="a8e8d772dcd9c57f6a8cfc2337fe76a7" class="idref" href="#a8e8d772dcd9c57f6a8cfc2337fe76a7"><span class="id" title="binder">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <span class="id" title="notation">(</span><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.SequentProps.html#a8e8d772dcd9c57f6a8cfc2337fe76a7"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="ISL.SequentProps.html#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.SequentProps.html#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="ISL.Environments.html#ea7b322b05c6af494383fa784c2b0124"><span class="id" title="notation">⊗</span></a><a class="idref" href="ISL.SequentProps.html#a82e7669fa99087a53835e65c4223d0d"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="ISL.Environments.html#open_boxes"><span class="id" title="definition">open_boxes</span></a>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [|ψ <span class="id" title="var">Δ</span> <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> <a class="idref" href="ISL.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="var">ms</span>.<br/>
- <span class="id" title="var">case_eq</span>(<a class="idref" href="ISL.Environments.html#is_box"><span class="id" title="definition">is_box</span></a> ψ); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbox</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="ISL.Environments.html#324ee050da821ba5ae035c28136d140a"><span class="id" title="notation">⊙</span></a>ψ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> ψ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hbox</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [[φ <span class="id" title="var">H</span>φ]| <span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a>, <span class="id" title="instance">list_to_set_disj_perm</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_map"><span class="id" title="lemma">Permutation_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elements_disj_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>, <span class="id" title="lemma">list_to_set_disj_app</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">elements</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#is_not_box_open_box"><span class="id" title="lemma">is_not_box_open_box</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbox</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hbox</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="definition">list_to_set_disj</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ISL.Environments.html#open_box"><span class="id" title="definition">open_box</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>ψ<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) : @<a class="idref" href="ISL.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="ISL.Formulas.html#Modal"><span class="id" title="constructor">Modal</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <span class="id" title="instance">list_to_set_disj_perm</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_map"><span class="id" title="lemma">Permutation_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_refl'"><span class="id" title="instance">Permutation_refl'</span></a>, <span class="id" title="lemma">gmultiset_elements_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="OrR_idemp" class="idref" href="#OrR_idemp"><span class="id" title="lemma">OrR_idemp</span></a> {<a id="K:138" class="idref" href="#K:138"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="3f1ad0985b3b15c6f067f772239c78db" class="idref" href="#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="binder">Γ</span></a> <a id="aa5ce37f3fe1b0811ec670d84ef94d0f" class="idref" href="#aa5ce37f3fe1b0811ec670d84ef94d0f"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="ISL.SequentProps.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#aa5ce37f3fe1b0811ec670d84ef94d0f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="ISL.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="ISL.SequentProps.html#aa5ce37f3fe1b0811ec670d84ef94d0f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ISL.SequentProps.html#3f1ad0985b3b15c6f067f772239c78db"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#aa5ce37f3fe1b0811ec670d84ef94d0f"><span class="id" title="variable">ψ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">proof</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strongness" class="idref" href="#strongness"><span class="id" title="lemma">strongness</span></a> <a id="18db665908d5502a7e950956abebea07" class="idref" href="#18db665908d5502a7e950956abebea07"><span class="id" title="binder">φ</span></a> : <span class="id" title="notation">∅</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a>  <a class="idref" href="ISL.SequentProps.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.SequentProps.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Sequents.html#BoxR"><span class="id" title="constructor">BoxR</span></a>. <span class="id" title="var">box_tac</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#weakening"><span class="id" title="lemma">weakening</span></a>, <a class="idref" href="ISL.SequentProps.html#open_box_L"><span class="id" title="lemma">open_box_L</span></a>, <a class="idref" href="ISL.SequentProps.html#generalised_axiom"><span class="id" title="lemma">generalised_axiom</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="ISL.SequentProps.html#var_not_tautology"><span class="id" title="lemma">var_not_tautology</span></a></span>: A variable cannot be a tautology.

</li>
<li> <span class="inlinecode"><a class="idref" href="ISL.SequentProps.html#bot_not_tautology"><span class="id" title="lemma">bot_not_tautology</span></a></span>: ⊥ is not a tautology.

</li>
<li> <span class="inlinecode"><a class="idref" href="ISL.SequentProps.html#box_var_not_tautology"><span class="id" title="lemma">box_var_not_tautology</span></a></span>: A boxed variable cannot be a tautology.

</li>
<li> <span class="inlinecode"><a class="idref" href="ISL.SequentProps.html#box_bot_not_tautology"><span class="id" title="lemma">box_bot_not_tautology</span></a></span>: A boxed ⊥ cannot be a tautology.

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bot_not_tautology" class="idref" href="#bot_not_tautology"><span class="id" title="lemma">bot_not_tautology</span></a> {<a id="K:142" class="idref" href="#K:142"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">∅</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <span class="id" title="notation">⊥</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> : <span class="id" title="var">_</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">{[+</span>?φ<span class="id" title="notation">+]}</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">gmultiset_elem_of_empty</span> φ); <span class="id" title="tactic">setoid_rewrite</span> &lt;- <span class="id" title="var">x</span>; <span class="id" title="var">ms</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="var_not_tautology" class="idref" href="#var_not_tautology"><span class="id" title="lemma">var_not_tautology</span></a> {<a id="K:143" class="idref" href="#K:143"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="v:144" class="idref" href="#v:144"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">∅</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.SequentProps.html#v:144"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> <span class="id" title="notation">∅</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">Heq</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">f</span>%<span class="id" title="var">stdpp</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span>(<span class="id" title="var">Heq'</span> := <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">gmultiset_not_elem_of_empty</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>; <span class="id" title="var">ms</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="box_var_not_tautology" class="idref" href="#box_var_not_tautology"><span class="id" title="lemma">box_var_not_tautology</span></a> <a id="v:145" class="idref" href="#v:145"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">∅</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">(</span></a><a class="idref" href="ISL.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="ISL.SequentProps.html#v:145"><span class="id" title="variable">v</span></a><a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">remember</span> <span class="id" title="notation">∅</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Γ</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">Heq</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">f</span>%<span class="id" title="var">stdpp</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span>(<span class="id" title="var">Heq'</span> := <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">gmultiset_not_elem_of_empty</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>; <span class="id" title="var">ms</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHp</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">Heq</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">f</span>%<span class="id" title="var">stdpp</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span>(<span class="id" title="var">Heq'</span> := <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_add_inv'"><span class="id" title="lemma">env_add_inv'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">gmultiset_not_elem_of_empty</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#in_difference"><span class="id" title="lemma">in_difference</span></a>;<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">discriminate</span>|<span class="id" title="var">ms</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="box_bot_not_tautology" class="idref" href="#box_bot_not_tautology"><span class="id" title="lemma">box_bot_not_tautology</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">∅</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.Formulas.html#373f5348a1e56721b8e6227b079f6465"><span class="id" title="notation">□</span></a><span class="id" title="notation">⊥</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>

<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">Heq</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">f</span>%<span class="id" title="var">stdpp</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span>(<span class="id" title="var">Heq'</span> := <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">gmultiset_not_elem_of_empty</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>; <span class="id" title="var">ms</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="ISL.Environments.html#open_boxes_empty"><span class="id" title="lemma">open_boxes_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">IHHp</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">Heq</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="ISL.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">f</span>%<span class="id" title="var">stdpp</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span>(<span class="id" title="var">Heq'</span> := <a class="idref" href="ISL.Environments.html#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#env_add_inv'"><span class="id" title="lemma">env_add_inv'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">gmultiset_not_elem_of_empty</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.Environments.html#in_difference"><span class="id" title="lemma">in_difference</span></a>;<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">discriminate</span>|<span class="id" title="var">ms</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;tautology&nbsp;is&nbsp;either&nbsp;equal&nbsp;to&nbsp;⊤&nbsp;or&nbsp;has&nbsp;a&nbsp;weight&nbsp;of&nbsp;at&nbsp;least&nbsp;3.&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="weight_tautology" class="idref" href="#weight_tautology"><span class="id" title="lemma">weight_tautology</span></a> {<a id="K:146" class="idref" href="#K:146"><span class="id" title="binder">K</span></a> : <a class="idref" href="ISL.Formulas.html#Kind"><span class="id" title="class">Kind</span></a>} <a id="5894ef06d61540d92f871cfdcc371a11" class="idref" href="#5894ef06d61540d92f871cfdcc371a11"><span class="id" title="binder">φ</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">∅</span> <a class="idref" href="ISL.Sequents.html#417d4f8793ef9552198c889adf95d0f2"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ISL.SequentProps.html#5894ef06d61540d92f871cfdcc371a11"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="ISL.SequentProps.html#5894ef06d61540d92f871cfdcc371a11"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">⊤</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a>3 <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="ISL.Formulas.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="ISL.SequentProps.html#5894ef06d61540d92f871cfdcc371a11"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">destruct</span> φ.<br/>
- <span class="id" title="var">contradict</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">apply</span>  <a class="idref" href="ISL.SequentProps.html#var_not_tautology"><span class="id" title="lemma">var_not_tautology</span></a>.<br/>
- <span class="id" title="var">contradict</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#bot_not_tautology"><span class="id" title="lemma">bot_not_tautology</span></a>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> φ.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">apply</span>  <a class="idref" href="ISL.SequentProps.html#box_var_not_tautology"><span class="id" title="lemma">box_var_not_tautology</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">contradict</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ISL.SequentProps.html#box_bot_not_tautology"><span class="id" title="lemma">box_bot_not_tautology</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ1). <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ2). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">pose</span>(<a class="idref" href="ISL.Formulas.html#weight_pos"><span class="id" title="lemma">weight_pos</span></a> φ). <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
